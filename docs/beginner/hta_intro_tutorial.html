
<!DOCTYPE html>


<html lang="ko" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2024-06-09T15:35:40+00:00" /><meta property="og:title" content="전체론적(Holistic Trace Analysis) 추적 분석 소개" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tutorials.pytorch.kr/beginner/hta_intro_tutorial.html" />
<meta property="og:site_name" content="PyTorch Tutorials KR" />
<meta property="og:description" content="저자: Anupam Bhatnagar 번역: Jaeseong Park 이 튜토리얼에서는 분산 학습 작업의 추적을 분석하기 위해 전체론적 추적 분석(Holistic Trace Analysis, HTA)을 사용하는 방법을 보여줍니다. 시작하려면 아래 단계를 따르세요. HTA 설치하기: HTA를 설치하기 위해 Conda 환경을 사용하는 것을 권장합니다. Anaconda를 설치하려면` 공식 Anaconda 문서 &lt; https://docs.anaconda.com/anaconda/install/index.html&gt;`_를 참조하..." />
<meta property="og:image" content="https://tutorials.pytorch.kr/_static/logos/logo-kr-sm-dark.png" />
<meta property="og:image:alt" content="PyTorch Tutorials KR" />
<meta name="description" content="저자: Anupam Bhatnagar 번역: Jaeseong Park 이 튜토리얼에서는 분산 학습 작업의 추적을 분석하기 위해 전체론적 추적 분석(Holistic Trace Analysis, HTA)을 사용하는 방법을 보여줍니다. 시작하려면 아래 단계를 따르세요. HTA 설치하기: HTA를 설치하기 위해 Conda 환경을 사용하는 것을 권장합니다. Anaconda를 설치하려면` 공식 Anaconda 문서 &lt; https://docs.anaconda.com/anaconda/install/index.html&gt;`_를 참조하..." />
<meta property="og:ignore_canonical" content="true" />

    <title>전체론적(Holistic Trace Analysis) 추적 분석 소개 &#8212; 파이토치 한국어 튜토리얼 (PyTorch tutorials in Korean)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=536c50fe" />
    <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=4d2595e5" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=91adb8b6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pytorch_theme.css?v=c326296f" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=097efa9c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom2.css?v=b169ea90" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=725a5b95"></script>
    <script src="../_static/doctools.js?v=92e14aea"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/translations.js?v=b5f768d8"></script>
    <script src="../_static/katex.min.js?v=be8ff15f"></script>
    <script src="../_static/auto-render.min.js?v=ad136472"></script>
    <script src="../_static/katex_autorenderer.js?v=bebc588a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'beginner/hta_intro_tutorial';</script>
    <link rel="canonical" href="https://tutorials.pytorch.kr/beginner/hta_intro_tutorial.html" />
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="색인" href="../genindex.html" />
    <link rel="search" title="검색" href="../search.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="ko"/>
    <meta name="docbuild:last-update" content="2024년 06월 09일"/>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>
<script>
  if (window.location.hostname === 'docs.pytorch.org' || window.location.hostname === 'docs-preview.pytorch.org') {
    const script = document.createElement('script');
    script.src = 'https://cmp.osano.com/16A0DbT9yDNIaQkvZ/31b1b91a-e0b6-47ea-bde2-7f2bd13dbe5c/osano.js?variant=one';
    document.head.appendChild(script);
  }
</script>
<script>
  // Cookie banner for non-LF projects
  document.addEventListener('DOMContentLoaded', function () {
    // Hide cookie banner on local environments and LF owned docs
    if (window.location.hostname === 'localhost' ||
      window.location.hostname === '0.0.0.0' ||
      window.location.hostname === '127.0.0.1' ||
      window.location.hostname === 'docs.pytorch.org' ||
      window.location.hostname === 'docs-preview.pytorch.org' ||
      window.location.hostname.startsWith('192.168.')) {
      const banner = document.querySelector('.cookie-banner-wrapper');
      if (banner) {
        banner.style.display = 'none';
      }
    }
  });
</script>
<!-- Conditional CSS for header and footer height adjustment -->

<link rel="stylesheet" type="text/css" href="../_static/css/theme.css" crossorigin="anonymous">
<script type="text/javascript" src="../_static/js/theme.js"></script>
<script type="text/javascript" src="../_static/js/dropdown-menu.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&family=Nanum+Gothic+Coding:wght@400;700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
<meta property="og:image" content="../_static/img/pytorch_seo.png" />
<link rel="stylesheet" href="../_static/webfonts/all.min.css" crossorigin="anonymous">
<meta http-equiv="Content-Security-Policy"
  content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval' blob:;">
<meta name="pytorch_project" content="tutorials">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-LZRD6GXDLF" height="0" width="0"
    style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Google Tag Manager -->
<script>(function (w, d, s, l, i) {
    w[l] = w[l] || []; w[l].push({
      'gtm.start':
        new Date().getTime(), event: 'gtm.js'
    }); var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    j.onload = function () {
      window.dispatchEvent(new Event('gtm_loaded'));
      console.log('GTM loaded successfully');
    };
  })(window, document, 'script', 'dataLayer', 'G-LZRD6GXDLF');
</script>
<!-- End Google Tag Manager -->
<!-- Facebook Pixel Code -->
<script>
  !function (f, b, e, v, n, t, s) {
    if (f.fbq) return; n = f.fbq = function () {
      n.callMethod ?
        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
    n.queue = []; t = b.createElement(e); t.async = !0;
    t.src = v; s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
  }(window, document, 'script',
    'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '243028289693773');
  fbq('track', 'PageView');
</script>
<script>
  document.documentElement.setAttribute('data-version', 'v2.8.0+cu128');
</script>
<noscript>
  <img height="1" width="1" src="https://www.facebook.com/tr?id=243028289693773&ev=PageView&noscript=1" />
</noscript>
<script>
  function gtag() {
    window.dataLayer.push(arguments);
  }
</script>
<!-- End Facebook Pixel Code -->
<!-- Script to Fix scrolling -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Fix anchor scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          const headerHeight =
            (document.querySelector('.header-holder') ? document.querySelector('.header-holder').offsetHeight : 0) +
            (document.querySelector('.bd-header') ? document.querySelector('.bd-header').offsetHeight : 0) + 20;

          const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
          window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
          });

          // Update URL hash without scrolling
          history.pushState(null, null, '#' + targetId);
        }
      });
    });
  });
</script>

<script async src="https://cse.google.com/cse.js?cx=e65585f8c3ea1440e"></script>


  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="ko"/>
    <meta name="docbuild:last-update" content="2024년 06월 09일"/>

  </head>

<body data-feedback-url="https://github.com/PyTorchKorea/tutorials-kr" class="pytorch-body">
  
    <div class="container-fluid header-holder tutorials-header" id="header-holder">
   <div class="header-container-wrapper">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.kr/" aria-label="PyTorchKR"></a>

      <div class="main-menu">
        <ul>

          <li class="main-menu-item">
          <div id="learnDropdownButton" data-toggle="learn-dropdown" class="learn-dropdown">
              <a class="with-down-arrow">
                <span>배우기</span>
              </a>
              <div class="learn-dropdown-menu dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.kr/get-started/locally/">
                  <span class="dropdown-title">PyTorch 시작하기</span>
                </a>
                <a class="nav-dropdown-item" href="https://tutorials.pytorch.kr/beginner/basics/intro.html">
                  <span class="dropdown-title">기본 익히기</span>
                </a>
                <a class="nav-dropdown-item" href="https://tutorials.pytorch.kr/" target="_self">
                  <span class="dropdown-title">한국어 튜토리얼</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.kr/hub/">
                  <span class="dropdown-title">한국어 모델 허브</span>
                </a>
                <a class="nav-dropdown-item" href="https://docs.pytorch.org/tutorials/" target="_blank">
                  <span class="dropdown-title">Official Tutorials</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <a href="https://pytorch.kr/blog/">
              <span>블로그</span>
            </a>
          </li>

          <li class="main-menu-item">
          <div id="docsDropdownButton" data-toggle="docs-dropdown" class="docs-dropdown">
              <a class="with-down-arrow">
              <span>문서</span>
              </a>
              <div class="docs-dropdown-menu dropdown-menu">
                <a class="nav-dropdown-item" href="https://docs.pytorch.org/docs/" target="_blank">
                  <span class="dropdown-title">PyTorch API</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.kr/domains/">
                  <span class="dropdown-title">Domain API 소개</span>
                </a>
                <a class="nav-dropdown-item" href="https://tutorials.pytorch.kr/" target="_self">
                  <span class="dropdown-title">한국어 튜토리얼</span>
                </a>
                <a class="nav-dropdown-item" href="https://docs.pytorch.org/tutorials/" target="_blank">
                  <span class="dropdown-title">Official Tutorials</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
          <div id="communityDropdownButton" data-toggle="community-dropdown" class="community-dropdown">
              <a class="with-down-arrow">
              <span>커뮤니티</span>
              </a>
              <div class="community-dropdown-menu dropdown-menu">
                <a class="nav-dropdown-item" href="https://discuss.pytorch.kr/" target="_self">
                  <span class="dropdown-title">한국어 커뮤니티</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.kr/resources/">
                  <span class="dropdown-title">개발자 정보</span>
                </a>
                <a class="nav-dropdown-item" href="https://landscape.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Landscape</span>
                </a>
              </div>
            </div>
          </li>

        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu">
        <i class="fa-solid fa-ellipsis"></i>
      </a>
    </div>
  </div>
 </div>

 <!-- Begin Mobile Menu -->

<div class="mobile-main-menu">
  <div class="container-fluid">
    <div class="header-container-wrapper">
      <div class="mobile-main-menu-header-container">
        <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu">
          <i class="fa-solid fa-xmark"></i>
        </a>
      </div>
    </div>
  </div>

  <div class="mobile-main-menu-links-container">
    <div class="main-menu">
      <ul>
         <li class="resources-mobile-menu-title">
           <a>배우기</a>
         </li>
         <ul class="resources-mobile-menu-items">
           <li>
             <a href="https://pytorch.kr/get-started/locally/">PyTorch 시작하기</a>
           </li>
           <li>
             <a href="https://tutorials.pytorch.kr/beginner/basics/intro.html">기본 익히기</a>
           </li>
           <li>
             <a href="https://tutorials.pytorch.kr/">한국어 튜토리얼</a>
           </li>
           <li>
             <a href="https://pytorch.kr/hub/">한국어 모델 허브</a>
           </li>
           <li>
             <a href="https://docs.pytorch.org/tutorials/" target="_blank">Official Tutorials</a>
           </li>
        </ul>
         <li class="resources-mobile-menu-title">
           <a href="https://pytorch.kr/blog/">블로그</a>
         </li>
         <li class="resources-mobile-menu-title">
           <a>문서</a>
         </li>
         <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://docs.pytorch.org/docs/" target="_blank">PyTorch API</a>
          </li>
          <li>
            <a href="https://pytorch.kr/domains/">Domain API 소개</a>
          </li>
          <li>
            <a href="https://tutorials.pytorch.kr/">한국어 튜토리얼</a>
          </li>
          <li>
            <a href="https://docs.pytorch.org/tutorials/" target="_blank">Official Tutorials</a>
          </li>
        </ul>
        <li class="resources-mobile-menu-title">
          <a>커뮤니티</a>
        </li>
         <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://discuss.pytorch.kr/">한국어 커뮤니티</a>
          </li>
          <li>
            <a href="https://pytorch.kr/resources/">개발자 정보</a>
          </li>
          <li>
            <a href="https://landscape.pytorch.org/" target="_blank">Landscape</a>
          </li>
        </ul>
      </ul>
    </div>
  </div>
</div>

<!-- End Mobile Menu -->
  
  
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">
  <a href="../index.html" class="version">v2.8.0+cu128</a>
</div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../intro.html">
    Intro
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../compilers_index.html">
    Compilers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../domains.html">
    Domains
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../distributed.html">
    Distributed
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../deep-dive.html">
    Deep Dive
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../extension.html">
    Extension
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../ecosystem.html">
    Ecosystem
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../recipes_index.html">
    Recipes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-container-wrapper">
  <div id="sphinx-search" class="search-container">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </div>

  <div id="google-search" class="search-container" style="display:none;">
    <div class="gcse-search-wrapper">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
      <div class="gcse-search"></div>
    </div>
  </div>

  <div class="search-toggle-container" data-bs-title="Google Search Off" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <div class="search-toggle-inner">
      <label class="switch">
        <input type="checkbox" id="search-toggle">
        <span class="slider round"></span>
      </label>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  // Define the search callback
  const myWebSearchStartingCallback = (gname, query) => {
    if (typeof dataLayer !== 'undefined' && query) {
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        'event': 'google_search',
        'search_term': query,
        'event_category': 'Search',
        'event_label': 'Google Search'
      });
    }
    return '';
  };

  // Set up the GCSE search callbacks
  window.__gcse || (window.__gcse = {});
  window.__gcse.searchCallbacks = {
    web: { starting: myWebSearchStartingCallback }
  };

  if (window.location.pathname.includes('/search.html')) {
    document.body.classList.add('search-page');
  }

  // Function to reinitialize Google CSE
  function reinitializeGoogleSearch() {
    if (window.__gcse && window.__gcse.initializationCallback) {
      window.__gcse.initializationCallback();
    }
  }

  // Function to handle search toggle
  function handleSearchToggle(toggle, sphinxSearch, googleSearch) {
    if (!toggle || !sphinxSearch || !googleSearch) return;

    // Check if the URL contains /stable/ or /tutorials/
    const currentUrl = window.location.href;
    // TODO: We've had reports that the google programmable search is returning stale documentation,
    //       Simple reproduction is to turn google search on and search for multinomial which will
    //       result in returning 1.8.1 documentation.
    //       We should turn this back on when we resolve that bug.
    const shouldDefaultToGoogle = false;
    const savedPreference = localStorage.getItem('searchPreference');

    // Set initial state
    if (savedPreference === 'google' || (savedPreference === null && shouldDefaultToGoogle)) {
      toggle.checked = true;
      sphinxSearch.style.display = 'none';
      googleSearch.style.display = 'block';
      if (savedPreference === null) {
        localStorage.setItem('searchPreference', 'google');
      }
      reinitializeGoogleSearch();
    } else {
      toggle.checked = false;
      sphinxSearch.style.display = 'block';
      googleSearch.style.display = 'none';
    }

    // Update tooltip
    updateTooltip(toggle.checked);

    // Skip if already initialized
    if (toggle.hasAttribute('data-initialized')) return;
    toggle.setAttribute('data-initialized', 'true');

    toggle.addEventListener('change', function() {
      if (this.checked) {
        sphinxSearch.style.display = 'none';
        googleSearch.style.display = 'block';
        localStorage.setItem('searchPreference', 'google');
        reinitializeGoogleSearch();
        trackSearchEngineSwitch('Google');
      } else {
        sphinxSearch.style.display = 'block';
        googleSearch.style.display = 'none';
        localStorage.setItem('searchPreference', 'sphinx');
        trackSearchEngineSwitch('Sphinx');
      }

      updateTooltip(this.checked);
      updateMobileSearch();
    });
  }

  // Update tooltip based on toggle state
  function updateTooltip(isChecked) {
    const tooltipElement = document.querySelector('.search-toggle-container');
    if (!tooltipElement) return;

    tooltipElement.setAttribute('data-bs-title', isChecked ? 'Google Search On' : 'Google Search Off');

    if (bootstrap && bootstrap.Tooltip) {
      const tooltipInstance = bootstrap.Tooltip.getInstance(tooltipElement);
      if (tooltipInstance) tooltipInstance.dispose();
      new bootstrap.Tooltip(tooltipElement);
    }
  }

  // Track search engine switch
  function trackSearchEngineSwitch(engine) {
    if (typeof dataLayer !== 'undefined') {
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        'event': 'search_engine_switch',
        'event_category': 'Search',
        'event_label': engine
      });
    }
  }

  // Function to update mobile search based on current toggle state
  function updateMobileSearch() {
    const toggle = document.getElementById('search-toggle');
    if (!toggle) return;

    const mobileSearchContainer = document.querySelector('.sidebar-header-items__end .navbar-item .search-container-wrapper');
    if (!mobileSearchContainer) return;

    const mobileSphinxSearch = mobileSearchContainer.querySelector('#sphinx-search');
    const mobileGoogleSearch = mobileSearchContainer.querySelector('#google-search');

    if (mobileSphinxSearch && mobileGoogleSearch) {
      mobileSphinxSearch.style.display = toggle.checked ? 'none' : 'block';
      mobileGoogleSearch.style.display = toggle.checked ? 'block' : 'none';

      if (toggle.checked) {
        reinitializeGoogleSearch();
      }
    }
  }

  // Initialize desktop search toggle
  const toggle = document.getElementById('search-toggle');
  const sphinxSearch = document.getElementById('sphinx-search');
  const googleSearch = document.getElementById('google-search');
  handleSearchToggle(toggle, sphinxSearch, googleSearch);

  // Set placeholder text for Google search input
  const observer = new MutationObserver(function() {
    document.querySelectorAll('.gsc-input input').forEach(input => {
      if (input && !input.hasAttribute('data-placeholder-set')) {
        input.setAttribute('placeholder', 'Search the docs ...');
        input.setAttribute('data-placeholder-set', 'true');
      }
    });
  });

  observer.observe(document.body, { childList: true, subtree: true });

  // Fix for scroll jump issue - improved approach
  function setupSearchInputHandlers(input) {
    if (input.hasAttribute('data-scroll-fixed')) return;
    input.setAttribute('data-scroll-fixed', 'true');

    let lastScrollPosition = 0;
    let isTyping = false;
    let scrollTimeout;

    // Save position before typing starts
    input.addEventListener('keydown', () => {
      lastScrollPosition = window.scrollY;
      isTyping = true;

      // Reset typing state after a short delay
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        isTyping = false;
      }, 100);
    });

    // Only maintain scroll position during typing
    function maintainScroll() {
      if (document.activeElement === input && isTyping) {
        window.scrollTo(0, lastScrollPosition);
        requestAnimationFrame(maintainScroll);
      }
    }

    input.addEventListener('focus', () => {
      // Just store initial position but don't force it
      lastScrollPosition = window.scrollY;
    });

    input.addEventListener('input', () => {
      isTyping = true;
      window.scrollTo(0, lastScrollPosition);

      // Reset typing state after a short delay
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        isTyping = false;
      }, 100);

      requestAnimationFrame(maintainScroll);
    });
  }

  // Apply to all search inputs and observe for new ones
  function applyToSearchInputs() {
    document.querySelectorAll('.search-container input, .gsc-input input').forEach(setupSearchInputHandlers);
  }

  applyToSearchInputs();

  const searchObserver = new MutationObserver(applyToSearchInputs);
  searchObserver.observe(document.body, { childList: true, subtree: true });

  // Watch for mobile menu creation
  const mobileMenuObserver = new MutationObserver(function(mutations) {
    for (const mutation of mutations) {
      if (!mutation.addedNodes.length) continue;

      // Style mobile search inputs
      document.querySelectorAll('.sidebar-header-items__end .navbar-item .search-container-wrapper .gsc-input input').forEach(input => {
        if (input) {
          input.setAttribute('placeholder', 'Search the docs ...');
          input.style.paddingLeft = '36px';
        }
      });

      // Check for mobile search container
      const mobileSearchContainer = document.querySelector('.sidebar-header-items__end .navbar-item .search-container-wrapper');
      if (!mobileSearchContainer) continue;

      const mobileToggle = mobileSearchContainer.querySelector('#search-toggle');
      if (mobileToggle && toggle) {
        // Sync mobile toggle with desktop toggle
        mobileToggle.checked = toggle.checked;
        updateMobileSearch();

        // Add event listener to mobile toggle if not already added
        if (!mobileToggle.hasAttribute('data-initialized')) {
          mobileToggle.setAttribute('data-initialized', 'true');
          mobileToggle.addEventListener('change', function() {
            // Sync desktop toggle with mobile toggle
            toggle.checked = this.checked;
            // Trigger change event on desktop toggle to update both
            toggle.dispatchEvent(new Event('change'));
          });
        }
      }
    }
  });

  mobileMenuObserver.observe(document.body, { childList: true, subtree: true });

  // Ensure Google CSE is properly loaded
  if (window.__gcse) {
    window.__gcse.callback = function() {
      // This will run after Google CSE is fully loaded
      if (toggle && toggle.checked) {
        reinitializeGoogleSearch();
      }
    };
  } else {
    window.__gcse = {
      callback: function() {
        if (toggle && toggle.checked) {
          reinitializeGoogleSearch();
        }
      }
    };
  }
});
</script>
</div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/PyTorchKorea/tutorials-kr" title="한국어 튜토리얼 GitHub 저장소" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">한국어 튜토리얼 GitHub 저장소</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.pytorch.kr/" title="파이토치 한국어 커뮤니티" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">파이토치 한국어 커뮤니티</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../intro.html">
    Intro
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../compilers_index.html">
    Compilers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../domains.html">
    Domains
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../distributed.html">
    Distributed
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../deep-dive.html">
    Deep Dive
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../extension.html">
    Extension
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../ecosystem.html">
    Ecosystem
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../recipes_index.html">
    Recipes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-container-wrapper">
  <div id="sphinx-search" class="search-container">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </div>

  <div id="google-search" class="search-container" style="display:none;">
    <div class="gcse-search-wrapper">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
      <div class="gcse-search"></div>
    </div>
  </div>

  <div class="search-toggle-container" data-bs-title="Google Search Off" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <div class="search-toggle-inner">
      <label class="switch">
        <input type="checkbox" id="search-toggle">
        <span class="slider round"></span>
      </label>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  // Define the search callback
  const myWebSearchStartingCallback = (gname, query) => {
    if (typeof dataLayer !== 'undefined' && query) {
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        'event': 'google_search',
        'search_term': query,
        'event_category': 'Search',
        'event_label': 'Google Search'
      });
    }
    return '';
  };

  // Set up the GCSE search callbacks
  window.__gcse || (window.__gcse = {});
  window.__gcse.searchCallbacks = {
    web: { starting: myWebSearchStartingCallback }
  };

  if (window.location.pathname.includes('/search.html')) {
    document.body.classList.add('search-page');
  }

  // Function to reinitialize Google CSE
  function reinitializeGoogleSearch() {
    if (window.__gcse && window.__gcse.initializationCallback) {
      window.__gcse.initializationCallback();
    }
  }

  // Function to handle search toggle
  function handleSearchToggle(toggle, sphinxSearch, googleSearch) {
    if (!toggle || !sphinxSearch || !googleSearch) return;

    // Check if the URL contains /stable/ or /tutorials/
    const currentUrl = window.location.href;
    // TODO: We've had reports that the google programmable search is returning stale documentation,
    //       Simple reproduction is to turn google search on and search for multinomial which will
    //       result in returning 1.8.1 documentation.
    //       We should turn this back on when we resolve that bug.
    const shouldDefaultToGoogle = false;
    const savedPreference = localStorage.getItem('searchPreference');

    // Set initial state
    if (savedPreference === 'google' || (savedPreference === null && shouldDefaultToGoogle)) {
      toggle.checked = true;
      sphinxSearch.style.display = 'none';
      googleSearch.style.display = 'block';
      if (savedPreference === null) {
        localStorage.setItem('searchPreference', 'google');
      }
      reinitializeGoogleSearch();
    } else {
      toggle.checked = false;
      sphinxSearch.style.display = 'block';
      googleSearch.style.display = 'none';
    }

    // Update tooltip
    updateTooltip(toggle.checked);

    // Skip if already initialized
    if (toggle.hasAttribute('data-initialized')) return;
    toggle.setAttribute('data-initialized', 'true');

    toggle.addEventListener('change', function() {
      if (this.checked) {
        sphinxSearch.style.display = 'none';
        googleSearch.style.display = 'block';
        localStorage.setItem('searchPreference', 'google');
        reinitializeGoogleSearch();
        trackSearchEngineSwitch('Google');
      } else {
        sphinxSearch.style.display = 'block';
        googleSearch.style.display = 'none';
        localStorage.setItem('searchPreference', 'sphinx');
        trackSearchEngineSwitch('Sphinx');
      }

      updateTooltip(this.checked);
      updateMobileSearch();
    });
  }

  // Update tooltip based on toggle state
  function updateTooltip(isChecked) {
    const tooltipElement = document.querySelector('.search-toggle-container');
    if (!tooltipElement) return;

    tooltipElement.setAttribute('data-bs-title', isChecked ? 'Google Search On' : 'Google Search Off');

    if (bootstrap && bootstrap.Tooltip) {
      const tooltipInstance = bootstrap.Tooltip.getInstance(tooltipElement);
      if (tooltipInstance) tooltipInstance.dispose();
      new bootstrap.Tooltip(tooltipElement);
    }
  }

  // Track search engine switch
  function trackSearchEngineSwitch(engine) {
    if (typeof dataLayer !== 'undefined') {
      window.dataLayer = window.dataLayer || [];
      dataLayer.push({
        'event': 'search_engine_switch',
        'event_category': 'Search',
        'event_label': engine
      });
    }
  }

  // Function to update mobile search based on current toggle state
  function updateMobileSearch() {
    const toggle = document.getElementById('search-toggle');
    if (!toggle) return;

    const mobileSearchContainer = document.querySelector('.sidebar-header-items__end .navbar-item .search-container-wrapper');
    if (!mobileSearchContainer) return;

    const mobileSphinxSearch = mobileSearchContainer.querySelector('#sphinx-search');
    const mobileGoogleSearch = mobileSearchContainer.querySelector('#google-search');

    if (mobileSphinxSearch && mobileGoogleSearch) {
      mobileSphinxSearch.style.display = toggle.checked ? 'none' : 'block';
      mobileGoogleSearch.style.display = toggle.checked ? 'block' : 'none';

      if (toggle.checked) {
        reinitializeGoogleSearch();
      }
    }
  }

  // Initialize desktop search toggle
  const toggle = document.getElementById('search-toggle');
  const sphinxSearch = document.getElementById('sphinx-search');
  const googleSearch = document.getElementById('google-search');
  handleSearchToggle(toggle, sphinxSearch, googleSearch);

  // Set placeholder text for Google search input
  const observer = new MutationObserver(function() {
    document.querySelectorAll('.gsc-input input').forEach(input => {
      if (input && !input.hasAttribute('data-placeholder-set')) {
        input.setAttribute('placeholder', 'Search the docs ...');
        input.setAttribute('data-placeholder-set', 'true');
      }
    });
  });

  observer.observe(document.body, { childList: true, subtree: true });

  // Fix for scroll jump issue - improved approach
  function setupSearchInputHandlers(input) {
    if (input.hasAttribute('data-scroll-fixed')) return;
    input.setAttribute('data-scroll-fixed', 'true');

    let lastScrollPosition = 0;
    let isTyping = false;
    let scrollTimeout;

    // Save position before typing starts
    input.addEventListener('keydown', () => {
      lastScrollPosition = window.scrollY;
      isTyping = true;

      // Reset typing state after a short delay
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        isTyping = false;
      }, 100);
    });

    // Only maintain scroll position during typing
    function maintainScroll() {
      if (document.activeElement === input && isTyping) {
        window.scrollTo(0, lastScrollPosition);
        requestAnimationFrame(maintainScroll);
      }
    }

    input.addEventListener('focus', () => {
      // Just store initial position but don't force it
      lastScrollPosition = window.scrollY;
    });

    input.addEventListener('input', () => {
      isTyping = true;
      window.scrollTo(0, lastScrollPosition);

      // Reset typing state after a short delay
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        isTyping = false;
      }, 100);

      requestAnimationFrame(maintainScroll);
    });
  }

  // Apply to all search inputs and observe for new ones
  function applyToSearchInputs() {
    document.querySelectorAll('.search-container input, .gsc-input input').forEach(setupSearchInputHandlers);
  }

  applyToSearchInputs();

  const searchObserver = new MutationObserver(applyToSearchInputs);
  searchObserver.observe(document.body, { childList: true, subtree: true });

  // Watch for mobile menu creation
  const mobileMenuObserver = new MutationObserver(function(mutations) {
    for (const mutation of mutations) {
      if (!mutation.addedNodes.length) continue;

      // Style mobile search inputs
      document.querySelectorAll('.sidebar-header-items__end .navbar-item .search-container-wrapper .gsc-input input').forEach(input => {
        if (input) {
          input.setAttribute('placeholder', 'Search the docs ...');
          input.style.paddingLeft = '36px';
        }
      });

      // Check for mobile search container
      const mobileSearchContainer = document.querySelector('.sidebar-header-items__end .navbar-item .search-container-wrapper');
      if (!mobileSearchContainer) continue;

      const mobileToggle = mobileSearchContainer.querySelector('#search-toggle');
      if (mobileToggle && toggle) {
        // Sync mobile toggle with desktop toggle
        mobileToggle.checked = toggle.checked;
        updateMobileSearch();

        // Add event listener to mobile toggle if not already added
        if (!mobileToggle.hasAttribute('data-initialized')) {
          mobileToggle.setAttribute('data-initialized', 'true');
          mobileToggle.addEventListener('change', function() {
            // Sync desktop toggle with mobile toggle
            toggle.checked = this.checked;
            // Trigger change event on desktop toggle to update both
            toggle.dispatchEvent(new Event('change'));
          });
        }
      }
    }
  });

  mobileMenuObserver.observe(document.body, { childList: true, subtree: true });

  // Ensure Google CSE is properly loaded
  if (window.__gcse) {
    window.__gcse.callback = function() {
      // This will run after Google CSE is fully loaded
      if (toggle && toggle.checked) {
        reinitializeGoogleSearch();
      }
    };
  } else {
    window.__gcse = {
      callback: function() {
        if (toggle && toggle.checked) {
          reinitializeGoogleSearch();
        }
      }
    };
  }
});
</script>
</div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/PyTorchKorea/tutorials-kr" title="한국어 튜토리얼 GitHub 저장소" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">한국어 튜토리얼 GitHub 저장소</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.pytorch.kr/" title="파이토치 한국어 커뮤니티" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">파이토치 한국어 커뮤니티</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">전체론적(Holisti...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">
<div class="rating">
    Rate this Page
    <div class="stars">
        
        <span class="star" data-behavior="tutorial-rating" data-count="1" data-value="1">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="2" data-value="2">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="3" data-value="3">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="4" data-value="4">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="5" data-value="5">★</span>
        
    </div>
</div>
</div>
      
    </div>
  
</div>
</div>
              
              
  
<div id="searchbox"></div>
  <article class="bd-article" id="pytorch-article">
    <!-- Hidden breadcrumb schema for SEO only -->
    <div style="display:none;" itemscope itemtype="https://schema.org/BreadcrumbList">
      
      <div itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <meta itemprop="name" content="전체론적(Holistic Trace Analysis) 추적 분석 소개">
        <meta itemprop="position" content="1">
      </div>
    </div>

    
    <script>
      if ((window.location.href.indexOf("/unstable/") != -1) && (window.location.href.indexOf("/unstable/unstable_index") < 1)) {
        var div = '<div class="prototype-banner"><i class="fa fa-flask" aria-hidden="true"></i> <strong>Unstable feature:</strong> Not typically available in binary distributions like PyPI. Early stage for feedback and testing.</div>'
        document.addEventListener('DOMContentLoaded', function () {
          document.getElementById("pytorch-article").insertAdjacentHTML('afterBegin', div);
        });
      }
    </script>
    
    
    <div class="pytorch-call-to-action-links">
      <div id="tutorial-type">beginner/hta_intro_tutorial</div>
      <a id="colab-link" data-behavior="call-to-action-event" data-response="Run in Google Colab" target="_blank">
        <div id="google-colab-link">
          <img class="call-to-action-img" src="../_static/img/pytorch-colab.svg" />
          <div class="call-to-action-desktop-view">Run in Google Colab</div>
          <div class="call-to-action-mobile-view">Colab</div>
        </div>
      </a>
      <a id="notebook-link" data-behavior="call-to-action-event" data-response="Download Notebook">
        <div id="download-notebook-link">
          <img class="call-to-action-notebook-img" src="../_static/img/pytorch-download.svg" />
          <div class="call-to-action-desktop-view">Download Notebook</div>
          <div class="call-to-action-mobile-view">Notebook</div>
        </div>
      </a>
      <a id="github-link" data-behavior="call-to-action-event" data-response="View on Github" target="_blank">
        <div id="github-view-link">
          <img class="call-to-action-img" src="../_static/img/pytorch-github.svg" />
          <div class="call-to-action-desktop-view">View on GitHub</div>
          <div class="call-to-action-mobile-view">GitHub</div>
        </div>
      </a>
    </div>
    

    
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="holistic-trace-analysis">
<h1>전체론적(Holistic Trace Analysis) 추적 분석 소개<a class="headerlink" href="#holistic-trace-analysis" title="Link to this heading">#</a></h1>
<p><strong>저자:</strong> <a class="reference external" href="https://github.com/anupambhatnagar">Anupam Bhatnagar</a>
<strong>번역</strong>: <a class="reference external" href="https://github.com/jaeseong98">Jaeseong Park</a></p>
<p>이 튜토리얼에서는 분산 학습 작업의 추적을 분석하기 위해 전체론적 추적 분석(Holistic Trace Analysis, HTA)을 사용하는 방법을 보여줍니다.
시작하려면 아래 단계를 따르세요.</p>
<section id="hta">
<h2>HTA 설치하기<a class="headerlink" href="#hta" title="Link to this heading">#</a></h2>
<p>HTA를 설치하기 위해 Conda 환경을 사용하는 것을 권장합니다. Anaconda를 설치하려면 <a href="#id1"><span class="problematic" id="id2">`</span></a>공식 Anaconda 문서 &lt;<a class="reference external" href="https://docs.anaconda.com/anaconda/install/index.html">https://docs.anaconda.com/anaconda/install/index.html</a>&gt;`_를 참조하세요.</p>
<ol class="arabic">
<li><p>pip를 사용하여 HTA 설치:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">HolisticTraceAnalysis</span>
</pre></div>
</div>
</li>
<li><p>(선택사항이지만 권장) Conda 환경 설정:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># env_name 가상환경 생성</span>
<span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">env_name</span>

<span class="c1"># 환경 활성화</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">env_name</span>

<span class="c1"># 작업이 끝나면 ``conda deactivate``를 실행하여 환경을 비활성화하세요</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="id3">
<h2>시작하기<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>Jupyter 노트북을 실행하고 <code class="docutils literal notranslate"><span class="pre">trace_dir</span></code> 변수를 추적 파일이 있는 위치로 설정하세요.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">hta.trace_analysis</span><span class="w"> </span><span class="kn">import</span> <span class="n">TraceAnalysis</span>
<span class="n">trace_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/folder/with/traces&quot;</span>
<span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span><span class="o">=</span><span class="n">trace_dir</span><span class="p">)</span>
</pre></div>
</div>
<section id="id4">
<h3>시간적 분석<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>GPU를 효과적으로 활용하기 위해서는 특정 작업에 대해 GPU가 시간을 어떻게 사용하고 있는지 이해하는 것이 중요합니다.
GPU가 주로 계산, 통신, 메모리 이벤트에 사용되고 있는지, 아니면 유휴 상태인지?
시간적 분석 기능은 이 세 가지 범주에서 사용된 시간에 대한 상세한 분석을 제공합니다.</p>
<ul class="simple">
<li><p>유휴 시간 - GPU가 유휴 상태입니다.</p></li>
<li><p>계산 시간 - GPU가 행렬 곱셈이나 벡터 연산에 사용되고 있습니다.</p></li>
<li><p>비계산 시간 - GPU가 통신이나 메모리 이벤트에 사용되고 있습니다.</p></li>
</ul>
<p>높은 학습 효율성을 달성하기 위해서는 코드가 계산 시간을 최대화하고 유휴 시간과 비계산 시간을 최소화해야 합니다. 다음 함수는 각 랭크에 대한 시간 사용의 상세한 분석을 제공하는 데이터프레임을 생성합니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/trace/folder&quot;</span><span class="p">)</span>
<span class="n">time_spent_df</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_temporal_breakdown</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/temporal_breakdown_df.png" src="../_images/temporal_breakdown_df.png" />
<p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_temporal_breakdown">get_temporal_breakdown</a> 함수에서 <code class="docutils literal notranslate"><span class="pre">visualize</span></code> 인수를 <a href="#id5"><span class="problematic" id="id6">``</span></a>True``로 설정하면 랭크별 분석을 나타내는 막대 그래프도 생성됩니다.</p>
<img alt="../_images/temporal_breakdown_plot.png" src="../_images/temporal_breakdown_plot.png" />
</section>
<section id="id7">
<h3>유휴 시간 분석<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>GPU가 유휴 상태로 보내는 시간과 그 이유에 대한 통찰을 얻으면 최적화 전략을 수립하는 데 도움이 될 수 있습니다. GPU에서 실행 중인 커널이 없을 때 GPU는 유휴 상태로 간주됩니다. 우리는 <cite>유휴</cite> 시간을 세 가지 뚜렷한 범주로 분류하는 알고리즘을 개발했습니다:</p>
<ul class="simple">
<li><p><strong>호스트 대기:</strong> CPU가 GPU를 완전히 활용하기 위해 충분히 빠르게 커널을 대기열에 넣지 않아 발생하는 GPU의 유휴 시간을 말합니다. 해당 유형의 비효율성을 해결하기 위해 속도 저하에 기여하는 CPU 연산자를 검사하고, 배치 크기를 늘리고, 연산자 융합을 적용할 수 있습니다.</p></li>
<li><p><strong>커널 대기:</strong> GPU에서 연속적인 커널을 실행하는 것과 관련된 간단한 오버헤드를 말합니다. 이 범주에 속하는 유휴 시간은 CUDA 그래프 최적화를 사용하여 최소화할 수 있습니다.</p></li>
<li><p><strong>기타 대기:</strong> 현재 정보가 부족하여 특정 원인을 파악할 수 없는 유휴 시간이 이 범주에 포함됩니다. 가능한 원인으로는 CUDA 이벤트를 사용한 CUDA 스트림 간의 동기화와 커널 실행 지연 등이 있습니다.</p></li>
</ul>
<p>호스트 대기 시간은 CPU로 인해 GPU가 정체되는 시간으로 해석할 수 있습니다. 유휴 시간을 커널 대기로 분류하기 위해 우리는 다음과 같은 휴리스틱(heuristic)을 사용합니다:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><strong>연속적인 커널 사이의 간격 &lt; 임계값</strong></div>
</div>
</div></blockquote>
<p>기본 임계값은 30 나노초이며 <code class="docutils literal notranslate"><span class="pre">consecutive_kernel_delay</span></code> 인수를 사용하여 구성할 수 있습니다. 기본적으로 유휴 시간 분석은 랭크 0에 대해서만 계산됩니다. 다른 랭크에 대해 분석을 계산하려면 <a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_idle_time_breakdown">get_idle_time_breakdown</a> 함수에서 <code class="docutils literal notranslate"><span class="pre">ranks</span></code> 인수를 사용하세요. 유휴 시간 분석은 다음과 같이 생성할 수 있습니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/trace/folder&quot;</span><span class="p">)</span>
<span class="n">idle_time_df</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_idle_time_breakdown</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/idle_time_breakdown_percentage.png" src="../_images/idle_time_breakdown_percentage.png" />
<p>이 함수는 데이터프레임 튜플을 반환합니다. 첫 번째 데이터프레임은 각 랭크의 각 스트림에 대한 유휴 시간 범주별 시간을 포함합니다.</p>
<a class="reference internal image-reference" href="../_images/idle_time.png"><img alt="../_images/idle_time.png" class="align-center" src="../_images/idle_time.png" style="width: 380.0px; height: 466.0px;" /></a>
<p>두 번째 데이터프레임은 <a href="#id8"><span class="problematic" id="id9">`</span></a>show_idle_interval_stats`가 <a href="#id10"><span class="problematic" id="id11">`</span></a>True`로 설정되었을 때 생성됩니다. 이 데이터프레임은 각 랭크의 각 스트림에 대한 유휴 시간의 요약 통계를 포함합니다.</p>
<a class="reference internal image-reference" href="../_images/idle_time_summary.png"><img alt="../_images/idle_time_summary.png" src="../_images/idle_time_summary.png" style="width: 703.0px; height: 504.0px;" /></a>
<div class="admonition tip">
<p class="admonition-title">팁</p>
<p>기본적으로 유휴 시간 분석은 각 유휴 시간 범주의 백분율을 표시합니다. <cite>visualize_pctg</cite> 인수를 <a href="#id12"><span class="problematic" id="id13">`</span></a>False`로 설정하면 함수는 y축에 절대 시간을 표시합니다.</p>
</div>
</section>
<section id="id14">
<h3>커널 분석<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<p>커널 분석 기능은 모든 랭크에서 통신(COMM), 계산(COMP), 메모리(MEM)와 같은 각 커널 유형에 대해 사용된 시간을 분석하고 각 범주에서 사용된 시간의 비율을 제시합니다. 다음은 각 범주에서 사용된 시간의 백분율을 원형 차트로 나타낸 것입니다:</p>
<img alt="../_images/kernel_type_breakdown.png" class="align-center" src="../_images/kernel_type_breakdown.png" />
<p>커널 분석은 다음과 같이 계산할 수 있습니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/trace/folder&quot;</span><span class="p">)</span>
<span class="n">kernel_type_metrics_df</span><span class="p">,</span> <span class="n">kernel_metrics_df</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_gpu_kernel_breakdown</span><span class="p">()</span>
</pre></div>
</div>
<p>함수가 반환하는 첫 번째 데이터프레임은 원형 차트를 생성하는 데 사용된 원래 값을 포함합니다.</p>
<section id="id15">
<h4>커널 기간 분포<a class="headerlink" href="#id15" title="Link to this heading">#</a></h4>
<p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_gpu_kernel_breakdown">get_gpu_kernel_breakdown</a> 함수가 반환하는 두 번째 데이터프레임에는 각 커널에 대한 기간 요약 통계가 포함되어 있습니다. 특히, 이는 각 커널에 대해 랭크별로 카운트, 최소, 최대, 평균, 표준 편차, 합계, 그리고 커널 유형을 포함합니다.</p>
<img alt="../_images/kernel_metrics_df.png" class="align-center" src="../_images/kernel_metrics_df.png" />
<p>이 데이터를 사용하여 HTA는 성능 병목 현상을 식별하기 위한 여러 시각화를 생성합니다.</p>
<ol class="arabic simple">
<li><p>각 랭크별로 각 커널 유형에 대한 상위 커널의 원형 차트.</p></li>
<li><p>상위 커널 및 각 커널 유형에 대해 모든 랭크에 걸친 평균 기간의 막대 그래프.</p></li>
</ol>
<img alt="../_images/pie_charts.png" src="../_images/pie_charts.png" />
<p>모든 이미지는 plotly를 사용하여 생성됩니다. 그래프 위에 마우스를 올리면 우측 상단에 모드 바가 나타나며, 이를 통해 확대, 이동, 선택 및 그래프 다운로드가 가능합니다.</p>
<p>위의 원형 차트는 상위 5개의 계산, 통신, 메모리 커널을 보여줍니다. 각 랭크에 대해 유사한 원형 차트가 생성됩니다. 원형 차트는 <cite>get_gpu_kernel_breakdown</cite> 함수에 전달된 <cite>num_kernels</cite> 인자를 사용하여 상위 k개의 커널을 보여주도록 설정할 수 있습니다. 또한, <cite>duration_ratio</cite> 인자를 사용하여 분석될 시간의 비율을 조정할 수 있습니다. <cite>num_kernels`와 `duration_ratio</cite> 모두 지정된 경우, <a href="#id16"><span class="problematic" id="id17">`</span></a>num_kernels`가 우선합니다.</p>
<img alt="../_images/comm_across_ranks.png" src="../_images/comm_across_ranks.png" />
<p>위의 막대 그래프는 모든 랭크에 걸친 NCCL AllReduce 커널의 평균 기간을 보여줍니다. 검은 선은 각 랭크에서의 최소 및 최대 시간을 나타냅니다.</p>
<div class="admonition warning">
<p class="admonition-title">경고</p>
<p>jupyter-lab을 사용할 때 “image_renderer” 인자의 값을 “jupyterlab”으로 설정해야 노트북에서 그래프가 렌더링됩니다.</p>
</div>
<p>이 기능에 대한 자세한 설명은 저장소의 예제 폴더에 있는 <a href="#id18"><span class="problematic" id="id19">`</span></a>gpu_kernel_breakdown notebook &lt;<a class="github reference external" href="https://github.com/facebookresearch/HolisticTraceAnalysis/blob/main/examples/kernel_breakdown_demo.ipynb">facebookresearch/HolisticTraceAnalysis</a>&gt;`_을 참조하세요.</p>
</section>
</section>
<section id="id20">
<h3>통신 계산 중첩<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<p>분산 학습에서 상당한 시간이 GPU 간의 통신 및 동기화 이벤트에 소비됩니다. 높은 GPU 효율성(TFLOPS/GPU)을 달성하기 위해서는 GPU가 계산 커널로 과도하게 할당된 상태를 유지하는 것이 중요합니다. 즉, GPU는 해결되지 않은 데이터 의존성으로 인해 차단되어서는 안 됩니다. 계산이 데이터 의존성에 의해 차단되는 정도를 측정하는 한 가지 방법은 통신 계산 중첩을 계산하는 것입니다. 통신 이벤트가 계산 이벤트와 겹칠 때 더 높은 GPU 효율성이 관찰됩니다. 통신과 계산의 중첩이 부족하면 GPU가 유휴 상태가 되어 낮은 효율성으로 이어집니다.
요약하자면, 더 높은 통신 계산 중첩이 바람직합니다. 각 랭크에 대한 중첩 비율을 계산하기 위해 다음 비율을 측정합니다:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><strong>(통신 중에 소비된 계산 시간) / (통신에 소비된 시간)</strong></div>
</div>
</div></blockquote>
<p>통신 계산 중첩은 다음과 같이 계산할 수 있습니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/trace/folder&quot;</span><span class="p">)</span>
<span class="n">overlap_df</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_comm_comp_overlap</span><span class="p">()</span>
</pre></div>
</div>
<p>이 함수는 각 랭크에 대한 중첩 비율을 포함하는 데이터프레임을 반환합니다.</p>
<a class="reference internal image-reference" href="../_images/overlap_df.png"><img alt="../_images/overlap_df.png" class="align-center" src="../_images/overlap_df.png" style="width: 253.0px; height: 309.0px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">visualize</span></code> 인자가 True로 설정되면, <a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_comm_comp_overlap">get_comm_comp_overlap</a> 함수는 또한 랭크별 중첩을 나타내는 막대 그래프를 생성합니다.</p>
<img alt="../_images/overlap_plot.png" src="../_images/overlap_plot.png" />
</section>
<section id="id21">
<h3>증강된 카운터<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<section id="id22">
<h4>메모리 대역폭 &amp; 큐 길이 카운터<a class="headerlink" href="#id22" title="Link to this heading">#</a></h4>
<p>메모리 대역폭 카운터는 메모리 복사(memcpy) 및 메모리 설정(memset) 이벤트에 의해 데이터를 H2D, D2H 및 D2D로 복사할 때 사용된 메모리 복사 대역폭을 측정합니다. HTA는 또한 각 CUDA 스트림에서 진행 중인 작업의 수를 계산합니다. 우리는 이를 <a href="#id23"><span class="problematic" id="id24">**</span></a>큐 길이**라고 부릅니다. 스트림의 큐 길이가 1024 이상일 때, 그 스트림에 새로운 이벤트가 스케줄될 수 없으며, GPU 스트림의 이벤트가 처리될 때까지 CPU는 멈춰있습니다.</p>
<p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.generate_trace_with_counters">generate_trace_with_counters</a> API는 메모리 대역폭 및 큐 길이 카운터가 포함된 새로운 추적 파일을 출력합니다. 새로운 추적 파일에는 memcpy/memset 작업에 의해 사용된 메모리 대역폭을 나타내는 트랙과 각 스트림의 큐 길이를 나타내는 트랙이 포함됩니다. 기본적으로, 이러한 카운터는 랭크 0 추적 파일을 사용하여 생성되며, 새 파일의 이름에는 <a href="#id25"><span class="problematic" id="id26">``</span></a>_with_counters``라는 접미사가 포함됩니다. 사용자는 <cite>generate_trace_with_counters</cite> API의 <cite>ranks</cite> 인수를 사용하여 여러 랭크에 대한 카운터를 생성할 수 있습니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/trace/folder&quot;</span><span class="p">)</span>
<span class="n">analyzer</span><span class="o">.</span><span class="n">generate_trace_with_counters</span><span class="p">()</span>
</pre></div>
</div>
<p>증강된 카운터가 포함된 생성된 추적 파일의 스크린샷.</p>
<a class="reference internal image-reference" href="../_images/mem_bandwidth_queue_length.png"><img alt="../_images/mem_bandwidth_queue_length.png" src="../_images/mem_bandwidth_queue_length.png" style="width: 806.0px; height: 877.0px;" /></a>
<p>HTA는 또한 다음 API를 사용하여 프로파일된 코드 부분에 대한 메모리 복사 대역폭 및 큐 길이 카운터의 요약과 시계열을 제공합니다:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_memory_bw_summary">get_memory_bw_summary</a></p></li>
<li><p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_queue_length_summary">get_queue_length_summary</a></p></li>
<li><p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_memory_bw_time_series">get_memory_bw_time_series</a></p></li>
<li><p><a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_queue_length_time_series">get_queue_length_time_series</a></p></li>
</ul>
<p>요약 및 시계열을 보기 위해 다음을 사용하세요:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 요약 생성</span>
<span class="n">mem_bw_summary</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_memory_bw_summary</span><span class="p">()</span>
<span class="n">queue_len_summary</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_queue_length_summary</span><span class="p">()</span>

<span class="c1"># 시계열 가져오기</span>
<span class="n">mem_bw_series</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_memory_bw_time_series</span><span class="p">()</span>
<span class="n">queue_len_series</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_queue_length_series</span><span class="p">()</span>
</pre></div>
</div>
<p>요약에는 카운트, 최소, 최대, 평균, 표준 편차, 25번째, 50번째, 75번째 백분위수가 포함됩니다.</p>
<a class="reference internal image-reference" href="../_images/queue_length_summary.png"><img alt="../_images/queue_length_summary.png" class="align-center" src="../_images/queue_length_summary.png" style="width: 503.0px; height: 430.0px;" /></a>
<p>시계열은 값이 변경될 때만 포인트를 포함합니다. 일단 값이 관찰되면 다음 업데이트까지 시계열은 일정하게 유지됩니다. 메모리 대역폭 및 큐 길이 시계열 함수는 키가 랭크이고 값이 그 랭크에 대한 시계열인 딕셔너리를 반환합니다. 기본적으로, 시계열은 랭크 0에 대해서만 계산됩니다.</p>
</section>
</section>
<section id="cuda">
<h3>CUDA 커널 실행 통계<a class="headerlink" href="#cuda" title="Link to this heading">#</a></h3>
<img alt="../_images/cuda_kernel_launch.png" src="../_images/cuda_kernel_launch.png" />
<p>GPU에서 실행된 각 이벤트에는 <cite>CudaLaunchKernel</cite>, <cite>CudaMemcpyAsync</cite>, <a href="#id27"><span class="problematic" id="id28">`</span></a>CudaMemsetAsync`와 같은 CPU에서의 대응하는 스케줄링 이벤트가 있습니다. 이러한 이벤트는 추적에서 공통의 상관 ID로 연결됩니다 - 위의 그림을 참조하세요. 이 기능은 CPU 런타임 이벤트의 지속 시간, 해당 GPU 커널 및 실행 지연을 계산합니다. 예를 들어, GPU 커널 시작과 CPU 오퍼레이터 종료 간의 차이입니다. 커널 실행 정보는 다음과 같이 생성할 수 있습니다:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">analyzer</span> <span class="o">=</span> <span class="n">TraceAnalysis</span><span class="p">(</span><span class="n">trace_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/trace/dir&quot;</span><span class="p">)</span>
<span class="n">kernel_info_df</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_cuda_kernel_launch_stats</span><span class="p">()</span>
</pre></div>
</div>
<p>생성된 데이터프레임의 스크린샷은 아래에 있습니다.</p>
<a class="reference internal image-reference" href="../_images/cuda_kernel_launch_stats.png"><img alt="../_images/cuda_kernel_launch_stats.png" class="align-center" src="../_images/cuda_kernel_launch_stats.png" style="width: 394.0px; height: 333.0px;" /></a>
<p>CPU 오퍼레이션의 지속 시간, GPU 커널, 그리고 실행 지연을 통해 다음을 찾을 수 있습니다:</p>
<ul class="simple">
<li><p><strong>짧은 GPU 커널</strong> - GPU 커널의 지속 시간이 해당 CPU 런타임 이벤트보다 짧은 경우.</p></li>
<li><p><strong>런타임 이벤트 이상치</strong> - 과도한 지속 시간을 가진 CPU 런타임 이벤트.</p></li>
<li><p><strong>실행 지연 이상치</strong> - 스케줄되기까지 너무 오래 걸리는 GPU 커널.</p></li>
</ul>
<p>HTA는 위에서 언급한 세 가지 카테고리 각각에 대한 분포 플롯을 생성합니다.</p>
<p><strong>짧은 GPU 커널</strong></p>
<p>일반적으로 CPU 측에서의 실행 시간은 5-20 마이크로초 범위입니다. 어떤 경우에는 GPU 실행 시간이 실행 시간보다 더 짧습니다. 아래 그래프는 이러한 사례가 코드에서 얼마나 자주 발생하는지 찾는 데 도움이 됩니다.</p>
<img alt="../_images/short_gpu_kernels.png" src="../_images/short_gpu_kernels.png" />
<p><strong>런타임 이벤트 이상치</strong></p>
<p>런타임 이상치는 이상치를 분류하는 데 사용된 컷오프에 따라 다릅니다, 따라서 <a class="reference external" href="https://hta.readthedocs.io/en/latest/source/api/trace_analysis_api.html#hta.trace_analysis.TraceAnalysis.get_cuda_kernel_launch_stats">get_cuda_kernel_launch_stats</a> API는 값을 구성하기 위한 <cite>runtime_cutoff</cite> 인수를 제공합니다.</p>
<img alt="../_images/runtime_outliers.png" src="../_images/runtime_outliers.png" />
<p><strong>실행 지연 이상치</strong></p>
<p>실행 지연 이상치는 이상치를 분류하는 데 사용된 컷오프에 따라 다릅니다, 따라서 <cite>get_cuda_kernel_launch_stats</cite> API는 값을 구성하기 위한 <cite>launch_delay_cutoff</cite> 인수를 제공합니다.</p>
<img alt="../_images/launch_delay_outliers.png" src="../_images/launch_delay_outliers.png" />
</section>
</section>
<section id="id29">
<h2>결론<a class="headerlink" href="#id29" title="Link to this heading">#</a></h2>
<p>이 튜토리얼에서 HTA를 설치하고 사용하는 방법을 배웠습니다. HTA는 분산 학습 워크플로우에서 병목 현상을 분석할 수 있게 해주는 성능 도구입니다. HTA 도구를 사용하여 트레이스 비교 분석을 수행하는 방법에 대해 더 배우려면, <a class="reference external" href="https://tutorials.pytorch.kr/beginner/hta_trace_diff_tutorial.html">Trace Diff using Holistic Trace Analysis</a> 를 참조하세요.</p>
</section>
</section>


                </article>
              
  </article>
  
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="feedback">
  
<div class="rating">
    Rate this Page
    <div class="stars">
        
        <span class="star" data-behavior="tutorial-rating" data-count="1" data-value="1">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="2" data-value="2">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="3" data-value="3">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="4" data-value="4">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="5" data-value="5">★</span>
        
    </div>
</div>

  <div class="feedback-send">
    <button class="feedback-btn"
            onclick="openGitHubIssue()"
            data-bs-title="Create a GitHub Issue"
            data-bs-placement="bottom"
            data-bs-toggle="tooltip"
            data-gtm="feedback-btn-click">Send Feedback
    </button>
  </div>
</div>

<div class="prev-next-area">
</div>

<div class="footer-info">
  <p class="copyright">
    
      
        © Copyright 2018-2025, PyTorch &amp; 파이토치 한국 사용자 모임(PyTorchKR).
      
      <br/>
    
  </p>

  <p class="theme-version">
    Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
  </p>
</div>
</div>
  
</div>
                </footer>
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc">
<div class="sidebar-secondary-items sidebar-secondary__inner">
    
       <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hta">HTA 설치하기</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">시작하기</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">시간적 분석</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">유휴 시간 분석</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">커널 분석</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">커널 기간 분포</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">통신 계산 중첩</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">증강된 카운터</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">메모리 대역폭 &amp; 큐 길이 카운터</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuda">CUDA 커널 실행 통계</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">결론</a></li>
</ul>
  </nav></div>
    




<div class="sidebar-secondary-item">
  <div class="sidebar-heading">PyTorch Libraries</div>
  <ul style="list-style-type: none; padding: 0; padding-bottom: 80px;">
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/ao" style="color: var(--pst-color-text-muted)">torchao</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/torchrec" style="color: var(--pst-color-text-muted)">torchrec</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/torchft" style="color: var(--pst-color-text-muted)">torchft</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/torchcodec" style="color: var(--pst-color-text-muted)">TorchCodec</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/vision" style="color: var(--pst-color-text-muted)">torchvision</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/executorch" style="color: var(--pst-color-text-muted)">ExecuTorch</a></li>
  
   <li><a class="nav-link nav-external" href="https://docs.pytorch.org/xla" style="color: var(--pst-color-text-muted)">PyTorch on XLA Devices</a></li>
  
  </ul>
</div>

</div>
</div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <div class="container-fluid docs-tutorials-resources">
  <div class="container">
    <div class="row">
      <div class="col-md-4 text-center">
        <h2>PyTorchKorea @ GitHub</h2>
        <p>파이토치 한국 사용자 모임을 GitHub에서 만나보세요.</p>
        <a class="with-right-arrow" href="https://github.com/PyTorchKorea">GitHub로 이동</a>
      </div>

      <div class="col-md-4 text-center">
        <h2>한국어 튜토리얼</h2>
        <p>한국어로 번역 중인 파이토치 튜토리얼을 만나보세요.</p>
        <a class="with-right-arrow" href="https://tutorials.pytorch.kr/">튜토리얼로 이동</a>
      </div>

      <div class="col-md-4 text-center">
        <h2>한국어 커뮤니티</h2>
        <p>다른 사용자들과 의견을 나누고, 도와주세요!</p>
        <a class="with-right-arrow" href="https://discuss.pytorch.kr/">커뮤니티로 이동</a>
      </div>
    </div>
  </div>
</div>

<footer class="site-footer">
  <div class="container footer-container">
    <div class="footer-logo-wrapper">
      <a href="https://pytorch.kr/" class="footer-logo"></a>
    </div>

    <div class="footer-links-wrapper">
      <div class="footer-links-col">
        <ul>
          <li class="list-title"><a href="https://pytorch.kr/">파이토치 한국 사용자 모임</a></li>
          <li><a href="https://pytorch.kr/about">사용자 모임 소개</a></li>
          <li><a href="https://pytorch.kr/contributors">기여해주신 분들</a></li>
          <li><a href="https://pytorch.kr/resources/">리소스</a></li>
          <li><a href="https://pytorch.kr/coc">행동 강령</a></li>
        </ul>
      </div>
    </div>

    <div class="trademark-disclaimer">
      <ul>
        <li>이 사이트는 독립적인 파이토치 사용자 커뮤니티로, 최신 버전이 아니거나 잘못된 내용이 포함되어 있을 수 있습니다. This site is an independent user community and may be out of date or contain incorrect information.</li>
        <li><a href="https://pytorch.kr/coc">행동 강령</a>을 읽고 지켜주세요. PyTorch 공식 로고 사용 규정은 <a href="https://www.linuxfoundation.org/policies/">Linux Foundation의 정책</a>을 따릅니다. Please read and follow <a href="https://pytorch.kr/coc">our code of conduct</a>. All PyTorch trademark policy applicable to <a href="https://www.linuxfoundation.org/policies/">Linux Foundation's policies</a>.</li>
      </ul>
    </div>
  </div>
</footer>

<div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../_static/img/pytorch-x.svg">
  </div>
</div>
  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2018-2025, PyTorch &amp; 파이토치 한국 사용자 모임(PyTorchKR).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6 버전으로 생성되었습니다.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  <script type="application/ld+json">
    {
       "@context": "https://schema.org",
       "@type": "Article",
       "name": "\uc804\uccb4\ub860\uc801(Holistic Trace Analysis) \ucd94\uc801 \ubd84\uc11d \uc18c\uac1c",
       "headline": "\uc804\uccb4\ub860\uc801(Holistic Trace Analysis) \ucd94\uc801 \ubd84\uc11d \uc18c\uac1c",
       "description": "PyTorch Documentation. Explore PyTorch, an open-source machine learning library that accelerates the path from research prototyping to production deployment. Discover tutorials, API references, and guides to help you build and deploy deep learning models efficiently.",
       "url": "/beginner/hta_intro_tutorial.html",
       "articleBody": "\uc804\uccb4\ub860\uc801(Holistic Trace Analysis) \ucd94\uc801 \ubd84\uc11d \uc18c\uac1c# \uc800\uc790: Anupam Bhatnagar \ubc88\uc5ed: Jaeseong Park \uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \ubd84\uc0b0 \ud559\uc2b5 \uc791\uc5c5\uc758 \ucd94\uc801\uc744 \ubd84\uc11d\ud558\uae30 \uc704\ud574 \uc804\uccb4\ub860\uc801 \ucd94\uc801 \ubd84\uc11d(Holistic Trace Analysis, HTA)\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uc2dc\uc791\ud558\ub824\uba74 \uc544\ub798 \ub2e8\uacc4\ub97c \ub530\ub974\uc138\uc694. HTA \uc124\uce58\ud558\uae30# HTA\ub97c \uc124\uce58\ud558\uae30 \uc704\ud574 Conda \ud658\uacbd\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4. Anaconda\ub97c \uc124\uce58\ud558\ub824\uba74 `\uacf5\uc2dd Anaconda \ubb38\uc11c \u003chttps://docs.anaconda.com/anaconda/install/index.html\u003e`_\ub97c \ucc38\uc870\ud558\uc138\uc694. pip\ub97c \uc0ac\uc6a9\ud558\uc5ec HTA \uc124\uce58: pip install HolisticTraceAnalysis (\uc120\ud0dd\uc0ac\ud56d\uc774\uc9c0\ub9cc \uad8c\uc7a5) Conda \ud658\uacbd \uc124\uc815: # env_name \uac00\uc0c1\ud658\uacbd \uc0dd\uc131 conda create -n env_name # \ud658\uacbd \ud65c\uc131\ud654 conda activate env_name # \uc791\uc5c5\uc774 \ub05d\ub098\uba74 ``conda deactivate``\ub97c \uc2e4\ud589\ud558\uc5ec \ud658\uacbd\uc744 \ube44\ud65c\uc131\ud654\ud558\uc138\uc694 \uc2dc\uc791\ud558\uae30# Jupyter \ub178\ud2b8\ubd81\uc744 \uc2e4\ud589\ud558\uace0 trace_dir \ubcc0\uc218\ub97c \ucd94\uc801 \ud30c\uc77c\uc774 \uc788\ub294 \uc704\uce58\ub85c \uc124\uc815\ud558\uc138\uc694. from hta.trace_analysis import TraceAnalysis trace_dir = \"/path/to/folder/with/traces\" analyzer = TraceAnalysis(trace_dir=trace_dir) \uc2dc\uac04\uc801 \ubd84\uc11d# GPU\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ud65c\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 \ud2b9\uc815 \uc791\uc5c5\uc5d0 \ub300\ud574 GPU\uac00 \uc2dc\uac04\uc744 \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\uc9c0 \uc774\ud574\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. GPU\uac00 \uc8fc\ub85c \uacc4\uc0b0, \ud1b5\uc2e0, \uba54\ubaa8\ub9ac \uc774\ubca4\ud2b8\uc5d0 \uc0ac\uc6a9\ub418\uace0 \uc788\ub294\uc9c0, \uc544\ub2c8\uba74 \uc720\ud734 \uc0c1\ud0dc\uc778\uc9c0? \uc2dc\uac04\uc801 \ubd84\uc11d \uae30\ub2a5\uc740 \uc774 \uc138 \uac00\uc9c0 \ubc94\uc8fc\uc5d0\uc11c \uc0ac\uc6a9\ub41c \uc2dc\uac04\uc5d0 \ub300\ud55c \uc0c1\uc138\ud55c \ubd84\uc11d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc720\ud734 \uc2dc\uac04 - GPU\uac00 \uc720\ud734 \uc0c1\ud0dc\uc785\ub2c8\ub2e4. \uacc4\uc0b0 \uc2dc\uac04 - GPU\uac00 \ud589\ub82c \uacf1\uc148\uc774\ub098 \ubca1\ud130 \uc5f0\uc0b0\uc5d0 \uc0ac\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ube44\uacc4\uc0b0 \uc2dc\uac04 - GPU\uac00 \ud1b5\uc2e0\uc774\ub098 \uba54\ubaa8\ub9ac \uc774\ubca4\ud2b8\uc5d0 \uc0ac\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub192\uc740 \ud559\uc2b5 \ud6a8\uc728\uc131\uc744 \ub2ec\uc131\ud558\uae30 \uc704\ud574\uc11c\ub294 \ucf54\ub4dc\uac00 \uacc4\uc0b0 \uc2dc\uac04\uc744 \ucd5c\ub300\ud654\ud558\uace0 \uc720\ud734 \uc2dc\uac04\uacfc \ube44\uacc4\uc0b0 \uc2dc\uac04\uc744 \ucd5c\uc18c\ud654\ud574\uc57c \ud569\ub2c8\ub2e4. \ub2e4\uc74c \ud568\uc218\ub294 \uac01 \ub7ad\ud06c\uc5d0 \ub300\ud55c \uc2dc\uac04 \uc0ac\uc6a9\uc758 \uc0c1\uc138\ud55c \ubd84\uc11d\uc744 \uc81c\uacf5\ud558\ub294 \ub370\uc774\ud130\ud504\ub808\uc784\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4. analyzer = TraceAnalysis(trace_dir = \"/path/to/trace/folder\") time_spent_df = analyzer.get_temporal_breakdown() get_temporal_breakdown \ud568\uc218\uc5d0\uc11c visualize \uc778\uc218\ub97c ``True``\ub85c \uc124\uc815\ud558\uba74 \ub7ad\ud06c\ubcc4 \ubd84\uc11d\uc744 \ub098\ud0c0\ub0b4\ub294 \ub9c9\ub300 \uadf8\ub798\ud504\ub3c4 \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc720\ud734 \uc2dc\uac04 \ubd84\uc11d# GPU\uac00 \uc720\ud734 \uc0c1\ud0dc\ub85c \ubcf4\ub0b4\ub294 \uc2dc\uac04\uacfc \uadf8 \uc774\uc720\uc5d0 \ub300\ud55c \ud1b5\ucc30\uc744 \uc5bb\uc73c\uba74 \ucd5c\uc801\ud654 \uc804\ub7b5\uc744 \uc218\ub9bd\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. GPU\uc5d0\uc11c \uc2e4\ud589 \uc911\uc778 \ucee4\ub110\uc774 \uc5c6\uc744 \ub54c GPU\ub294 \uc720\ud734 \uc0c1\ud0dc\ub85c \uac04\uc8fc\ub429\ub2c8\ub2e4. \uc6b0\ub9ac\ub294 \uc720\ud734 \uc2dc\uac04\uc744 \uc138 \uac00\uc9c0 \ub69c\ub837\ud55c \ubc94\uc8fc\ub85c \ubd84\ub958\ud558\ub294 \uc54c\uace0\ub9ac\uc998\uc744 \uac1c\ubc1c\ud588\uc2b5\ub2c8\ub2e4: \ud638\uc2a4\ud2b8 \ub300\uae30: CPU\uac00 GPU\ub97c \uc644\uc804\ud788 \ud65c\uc6a9\ud558\uae30 \uc704\ud574 \ucda9\ubd84\ud788 \ube60\ub974\uac8c \ucee4\ub110\uc744 \ub300\uae30\uc5f4\uc5d0 \ub123\uc9c0 \uc54a\uc544 \ubc1c\uc0dd\ud558\ub294 GPU\uc758 \uc720\ud734 \uc2dc\uac04\uc744 \ub9d0\ud569\ub2c8\ub2e4. \ud574\ub2f9 \uc720\ud615\uc758 \ube44\ud6a8\uc728\uc131\uc744 \ud574\uacb0\ud558\uae30 \uc704\ud574 \uc18d\ub3c4 \uc800\ud558\uc5d0 \uae30\uc5ec\ud558\ub294 CPU \uc5f0\uc0b0\uc790\ub97c \uac80\uc0ac\ud558\uace0, \ubc30\uce58 \ud06c\uae30\ub97c \ub298\ub9ac\uace0, \uc5f0\uc0b0\uc790 \uc735\ud569\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ucee4\ub110 \ub300\uae30: GPU\uc5d0\uc11c \uc5f0\uc18d\uc801\uc778 \ucee4\ub110\uc744 \uc2e4\ud589\ud558\ub294 \uac83\uacfc \uad00\ub828\ub41c \uac04\ub2e8\ud55c \uc624\ubc84\ud5e4\ub4dc\ub97c \ub9d0\ud569\ub2c8\ub2e4. \uc774 \ubc94\uc8fc\uc5d0 \uc18d\ud558\ub294 \uc720\ud734 \uc2dc\uac04\uc740 CUDA \uadf8\ub798\ud504 \ucd5c\uc801\ud654\ub97c \uc0ac\uc6a9\ud558\uc5ec \ucd5c\uc18c\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae30\ud0c0 \ub300\uae30: \ud604\uc7ac \uc815\ubcf4\uac00 \ubd80\uc871\ud558\uc5ec \ud2b9\uc815 \uc6d0\uc778\uc744 \ud30c\uc545\ud560 \uc218 \uc5c6\ub294 \uc720\ud734 \uc2dc\uac04\uc774 \uc774 \ubc94\uc8fc\uc5d0 \ud3ec\ud568\ub429\ub2c8\ub2e4. \uac00\ub2a5\ud55c \uc6d0\uc778\uc73c\ub85c\ub294 CUDA \uc774\ubca4\ud2b8\ub97c \uc0ac\uc6a9\ud55c CUDA \uc2a4\ud2b8\ub9bc \uac04\uc758 \ub3d9\uae30\ud654\uc640 \ucee4\ub110 \uc2e4\ud589 \uc9c0\uc5f0 \ub4f1\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ud638\uc2a4\ud2b8 \ub300\uae30 \uc2dc\uac04\uc740 CPU\ub85c \uc778\ud574 GPU\uac00 \uc815\uccb4\ub418\ub294 \uc2dc\uac04\uc73c\ub85c \ud574\uc11d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc720\ud734 \uc2dc\uac04\uc744 \ucee4\ub110 \ub300\uae30\ub85c \ubd84\ub958\ud558\uae30 \uc704\ud574 \uc6b0\ub9ac\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \ud734\ub9ac\uc2a4\ud2f1(heuristic)\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4: \uc5f0\uc18d\uc801\uc778 \ucee4\ub110 \uc0ac\uc774\uc758 \uac04\uaca9 \u003c \uc784\uacc4\uac12 \uae30\ubcf8 \uc784\uacc4\uac12\uc740 30 \ub098\ub178\ucd08\uc774\uba70 consecutive_kernel_delay \uc778\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c \uc720\ud734 \uc2dc\uac04 \ubd84\uc11d\uc740 \ub7ad\ud06c 0\uc5d0 \ub300\ud574\uc11c\ub9cc \uacc4\uc0b0\ub429\ub2c8\ub2e4. \ub2e4\ub978 \ub7ad\ud06c\uc5d0 \ub300\ud574 \ubd84\uc11d\uc744 \uacc4\uc0b0\ud558\ub824\uba74 get_idle_time_breakdown \ud568\uc218\uc5d0\uc11c ranks \uc778\uc218\ub97c \uc0ac\uc6a9\ud558\uc138\uc694. \uc720\ud734 \uc2dc\uac04 \ubd84\uc11d\uc740 \ub2e4\uc74c\uacfc \uac19\uc774 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4: analyzer = TraceAnalysis(trace_dir = \"/path/to/trace/folder\") idle_time_df = analyzer.get_idle_time_breakdown() \uc774 \ud568\uc218\ub294 \ub370\uc774\ud130\ud504\ub808\uc784 \ud29c\ud50c\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. \uccab \ubc88\uc9f8 \ub370\uc774\ud130\ud504\ub808\uc784\uc740 \uac01 \ub7ad\ud06c\uc758 \uac01 \uc2a4\ud2b8\ub9bc\uc5d0 \ub300\ud55c \uc720\ud734 \uc2dc\uac04 \ubc94\uc8fc\ubcc4 \uc2dc\uac04\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4. \ub450 \ubc88\uc9f8 \ub370\uc774\ud130\ud504\ub808\uc784\uc740 `show_idle_interval_stats`\uac00 `True`\ub85c \uc124\uc815\ub418\uc5c8\uc744 \ub54c \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc774 \ub370\uc774\ud130\ud504\ub808\uc784\uc740 \uac01 \ub7ad\ud06c\uc758 \uac01 \uc2a4\ud2b8\ub9bc\uc5d0 \ub300\ud55c \uc720\ud734 \uc2dc\uac04\uc758 \uc694\uc57d \ud1b5\uacc4\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. \ud301 \uae30\ubcf8\uc801\uc73c\ub85c \uc720\ud734 \uc2dc\uac04 \ubd84\uc11d\uc740 \uac01 \uc720\ud734 \uc2dc\uac04 \ubc94\uc8fc\uc758 \ubc31\ubd84\uc728\uc744 \ud45c\uc2dc\ud569\ub2c8\ub2e4. visualize_pctg \uc778\uc218\ub97c `False`\ub85c \uc124\uc815\ud558\uba74 \ud568\uc218\ub294 y\ucd95\uc5d0 \uc808\ub300 \uc2dc\uac04\uc744 \ud45c\uc2dc\ud569\ub2c8\ub2e4. \ucee4\ub110 \ubd84\uc11d# \ucee4\ub110 \ubd84\uc11d \uae30\ub2a5\uc740 \ubaa8\ub4e0 \ub7ad\ud06c\uc5d0\uc11c \ud1b5\uc2e0(COMM), \uacc4\uc0b0(COMP), \uba54\ubaa8\ub9ac(MEM)\uc640 \uac19\uc740 \uac01 \ucee4\ub110 \uc720\ud615\uc5d0 \ub300\ud574 \uc0ac\uc6a9\ub41c \uc2dc\uac04\uc744 \ubd84\uc11d\ud558\uace0 \uac01 \ubc94\uc8fc\uc5d0\uc11c \uc0ac\uc6a9\ub41c \uc2dc\uac04\uc758 \ube44\uc728\uc744 \uc81c\uc2dc\ud569\ub2c8\ub2e4. \ub2e4\uc74c\uc740 \uac01 \ubc94\uc8fc\uc5d0\uc11c \uc0ac\uc6a9\ub41c \uc2dc\uac04\uc758 \ubc31\ubd84\uc728\uc744 \uc6d0\ud615 \ucc28\ud2b8\ub85c \ub098\ud0c0\ub0b8 \uac83\uc785\ub2c8\ub2e4: \ucee4\ub110 \ubd84\uc11d\uc740 \ub2e4\uc74c\uacfc \uac19\uc774 \uacc4\uc0b0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4: analyzer = TraceAnalysis(trace_dir = \"/path/to/trace/folder\") kernel_type_metrics_df, kernel_metrics_df = analyzer.get_gpu_kernel_breakdown() \ud568\uc218\uac00 \ubc18\ud658\ud558\ub294 \uccab \ubc88\uc9f8 \ub370\uc774\ud130\ud504\ub808\uc784\uc740 \uc6d0\ud615 \ucc28\ud2b8\ub97c \uc0dd\uc131\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c \uc6d0\ub798 \uac12\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4. \ucee4\ub110 \uae30\uac04 \ubd84\ud3ec# get_gpu_kernel_breakdown \ud568\uc218\uac00 \ubc18\ud658\ud558\ub294 \ub450 \ubc88\uc9f8 \ub370\uc774\ud130\ud504\ub808\uc784\uc5d0\ub294 \uac01 \ucee4\ub110\uc5d0 \ub300\ud55c \uae30\uac04 \uc694\uc57d \ud1b5\uacc4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ud2b9\ud788, \uc774\ub294 \uac01 \ucee4\ub110\uc5d0 \ub300\ud574 \ub7ad\ud06c\ubcc4\ub85c \uce74\uc6b4\ud2b8, \ucd5c\uc18c, \ucd5c\ub300, \ud3c9\uade0, \ud45c\uc900 \ud3b8\ucc28, \ud569\uacc4, \uadf8\ub9ac\uace0 \ucee4\ub110 \uc720\ud615\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4. \uc774 \ub370\uc774\ud130\ub97c \uc0ac\uc6a9\ud558\uc5ec HTA\ub294 \uc131\ub2a5 \ubcd1\ubaa9 \ud604\uc0c1\uc744 \uc2dd\ubcc4\ud558\uae30 \uc704\ud55c \uc5ec\ub7ec \uc2dc\uac01\ud654\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uac01 \ub7ad\ud06c\ubcc4\ub85c \uac01 \ucee4\ub110 \uc720\ud615\uc5d0 \ub300\ud55c \uc0c1\uc704 \ucee4\ub110\uc758 \uc6d0\ud615 \ucc28\ud2b8. \uc0c1\uc704 \ucee4\ub110 \ubc0f \uac01 \ucee4\ub110 \uc720\ud615\uc5d0 \ub300\ud574 \ubaa8\ub4e0 \ub7ad\ud06c\uc5d0 \uac78\uce5c \ud3c9\uade0 \uae30\uac04\uc758 \ub9c9\ub300 \uadf8\ub798\ud504. \ubaa8\ub4e0 \uc774\ubbf8\uc9c0\ub294 plotly\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0dd\uc131\ub429\ub2c8\ub2e4. \uadf8\ub798\ud504 \uc704\uc5d0 \ub9c8\uc6b0\uc2a4\ub97c \uc62c\ub9ac\uba74 \uc6b0\uce21 \uc0c1\ub2e8\uc5d0 \ubaa8\ub4dc \ubc14\uac00 \ub098\ud0c0\ub098\uba70, \uc774\ub97c \ud1b5\ud574 \ud655\ub300, \uc774\ub3d9, \uc120\ud0dd \ubc0f \uadf8\ub798\ud504 \ub2e4\uc6b4\ub85c\ub4dc\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc704\uc758 \uc6d0\ud615 \ucc28\ud2b8\ub294 \uc0c1\uc704 5\uac1c\uc758 \uacc4\uc0b0, \ud1b5\uc2e0, \uba54\ubaa8\ub9ac \ucee4\ub110\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uac01 \ub7ad\ud06c\uc5d0 \ub300\ud574 \uc720\uc0ac\ud55c \uc6d0\ud615 \ucc28\ud2b8\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc6d0\ud615 \ucc28\ud2b8\ub294 get_gpu_kernel_breakdown \ud568\uc218\uc5d0 \uc804\ub2ec\ub41c num_kernels \uc778\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0c1\uc704 k\uac1c\uc758 \ucee4\ub110\uc744 \ubcf4\uc5ec\uc8fc\ub3c4\ub85d \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, duration_ratio \uc778\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubd84\uc11d\ub420 \uc2dc\uac04\uc758 \ube44\uc728\uc744 \uc870\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. num_kernels`\uc640 `duration_ratio \ubaa8\ub450 \uc9c0\uc815\ub41c \uacbd\uc6b0, `num_kernels`\uac00 \uc6b0\uc120\ud569\ub2c8\ub2e4. \uc704\uc758 \ub9c9\ub300 \uadf8\ub798\ud504\ub294 \ubaa8\ub4e0 \ub7ad\ud06c\uc5d0 \uac78\uce5c NCCL AllReduce \ucee4\ub110\uc758 \ud3c9\uade0 \uae30\uac04\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uac80\uc740 \uc120\uc740 \uac01 \ub7ad\ud06c\uc5d0\uc11c\uc758 \ucd5c\uc18c \ubc0f \ucd5c\ub300 \uc2dc\uac04\uc744 \ub098\ud0c0\ub0c5\ub2c8\ub2e4. \uacbd\uace0 jupyter-lab\uc744 \uc0ac\uc6a9\ud560 \ub54c \u201cimage_renderer\u201d \uc778\uc790\uc758 \uac12\uc744 \u201cjupyterlab\u201d\uc73c\ub85c \uc124\uc815\ud574\uc57c \ub178\ud2b8\ubd81\uc5d0\uc11c \uadf8\ub798\ud504\uac00 \ub80c\ub354\ub9c1\ub429\ub2c8\ub2e4. \uc774 \uae30\ub2a5\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc124\uba85\uc740 \uc800\uc7a5\uc18c\uc758 \uc608\uc81c \ud3f4\ub354\uc5d0 \uc788\ub294 `gpu_kernel_breakdown notebook \u003cfacebookresearch/HolisticTraceAnalysis\u003e`_\uc744 \ucc38\uc870\ud558\uc138\uc694. \ud1b5\uc2e0 \uacc4\uc0b0 \uc911\ucca9# \ubd84\uc0b0 \ud559\uc2b5\uc5d0\uc11c \uc0c1\ub2f9\ud55c \uc2dc\uac04\uc774 GPU \uac04\uc758 \ud1b5\uc2e0 \ubc0f \ub3d9\uae30\ud654 \uc774\ubca4\ud2b8\uc5d0 \uc18c\ube44\ub429\ub2c8\ub2e4. \ub192\uc740 GPU \ud6a8\uc728\uc131(TFLOPS/GPU)\uc744 \ub2ec\uc131\ud558\uae30 \uc704\ud574\uc11c\ub294 GPU\uac00 \uacc4\uc0b0 \ucee4\ub110\ub85c \uacfc\ub3c4\ud558\uac8c \ud560\ub2f9\ub41c \uc0c1\ud0dc\ub97c \uc720\uc9c0\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. \uc989, GPU\ub294 \ud574\uacb0\ub418\uc9c0 \uc54a\uc740 \ub370\uc774\ud130 \uc758\uc874\uc131\uc73c\ub85c \uc778\ud574 \ucc28\ub2e8\ub418\uc5b4\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \uacc4\uc0b0\uc774 \ub370\uc774\ud130 \uc758\uc874\uc131\uc5d0 \uc758\ud574 \ucc28\ub2e8\ub418\ub294 \uc815\ub3c4\ub97c \uce21\uc815\ud558\ub294 \ud55c \uac00\uc9c0 \ubc29\ubc95\uc740 \ud1b5\uc2e0 \uacc4\uc0b0 \uc911\ucca9\uc744 \uacc4\uc0b0\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \ud1b5\uc2e0 \uc774\ubca4\ud2b8\uac00 \uacc4\uc0b0 \uc774\ubca4\ud2b8\uc640 \uacb9\uce60 \ub54c \ub354 \ub192\uc740 GPU \ud6a8\uc728\uc131\uc774 \uad00\ucc30\ub429\ub2c8\ub2e4. \ud1b5\uc2e0\uacfc \uacc4\uc0b0\uc758 \uc911\ucca9\uc774 \ubd80\uc871\ud558\uba74 GPU\uac00 \uc720\ud734 \uc0c1\ud0dc\uac00 \ub418\uc5b4 \ub0ae\uc740 \ud6a8\uc728\uc131\uc73c\ub85c \uc774\uc5b4\uc9d1\ub2c8\ub2e4. \uc694\uc57d\ud558\uc790\uba74, \ub354 \ub192\uc740 \ud1b5\uc2e0 \uacc4\uc0b0 \uc911\ucca9\uc774 \ubc14\ub78c\uc9c1\ud569\ub2c8\ub2e4. \uac01 \ub7ad\ud06c\uc5d0 \ub300\ud55c \uc911\ucca9 \ube44\uc728\uc744 \uacc4\uc0b0\ud558\uae30 \uc704\ud574 \ub2e4\uc74c \ube44\uc728\uc744 \uce21\uc815\ud569\ub2c8\ub2e4: (\ud1b5\uc2e0 \uc911\uc5d0 \uc18c\ube44\ub41c \uacc4\uc0b0 \uc2dc\uac04) / (\ud1b5\uc2e0\uc5d0 \uc18c\ube44\ub41c \uc2dc\uac04) \ud1b5\uc2e0 \uacc4\uc0b0 \uc911\ucca9\uc740 \ub2e4\uc74c\uacfc \uac19\uc774 \uacc4\uc0b0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4: analyzer = TraceAnalysis(trace_dir=\"/path/to/trace/folder\") overlap_df = analyzer.get_comm_comp_overlap() \uc774 \ud568\uc218\ub294 \uac01 \ub7ad\ud06c\uc5d0 \ub300\ud55c \uc911\ucca9 \ube44\uc728\uc744 \ud3ec\ud568\ud558\ub294 \ub370\uc774\ud130\ud504\ub808\uc784\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. visualize \uc778\uc790\uac00 True\ub85c \uc124\uc815\ub418\uba74, get_comm_comp_overlap \ud568\uc218\ub294 \ub610\ud55c \ub7ad\ud06c\ubcc4 \uc911\ucca9\uc744 \ub098\ud0c0\ub0b4\ub294 \ub9c9\ub300 \uadf8\ub798\ud504\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc99d\uac15\ub41c \uce74\uc6b4\ud130# \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed \u0026 \ud050 \uae38\uc774 \uce74\uc6b4\ud130# \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed \uce74\uc6b4\ud130\ub294 \uba54\ubaa8\ub9ac \ubcf5\uc0ac(memcpy) \ubc0f \uba54\ubaa8\ub9ac \uc124\uc815(memset) \uc774\ubca4\ud2b8\uc5d0 \uc758\ud574 \ub370\uc774\ud130\ub97c H2D, D2H \ubc0f D2D\ub85c \ubcf5\uc0ac\ud560 \ub54c \uc0ac\uc6a9\ub41c \uba54\ubaa8\ub9ac \ubcf5\uc0ac \ub300\uc5ed\ud3ed\uc744 \uce21\uc815\ud569\ub2c8\ub2e4. HTA\ub294 \ub610\ud55c \uac01 CUDA \uc2a4\ud2b8\ub9bc\uc5d0\uc11c \uc9c4\ud589 \uc911\uc778 \uc791\uc5c5\uc758 \uc218\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4. \uc6b0\ub9ac\ub294 \uc774\ub97c **\ud050 \uae38\uc774**\ub77c\uace0 \ubd80\ub985\ub2c8\ub2e4. \uc2a4\ud2b8\ub9bc\uc758 \ud050 \uae38\uc774\uac00 1024 \uc774\uc0c1\uc77c \ub54c, \uadf8 \uc2a4\ud2b8\ub9bc\uc5d0 \uc0c8\ub85c\uc6b4 \uc774\ubca4\ud2b8\uac00 \uc2a4\ucf00\uc904\ub420 \uc218 \uc5c6\uc73c\uba70, GPU \uc2a4\ud2b8\ub9bc\uc758 \uc774\ubca4\ud2b8\uac00 \ucc98\ub9ac\ub420 \ub54c\uae4c\uc9c0 CPU\ub294 \uba48\ucdb0\uc788\uc2b5\ub2c8\ub2e4. generate_trace_with_counters API\ub294 \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed \ubc0f \ud050 \uae38\uc774 \uce74\uc6b4\ud130\uac00 \ud3ec\ud568\ub41c \uc0c8\ub85c\uc6b4 \ucd94\uc801 \ud30c\uc77c\uc744 \ucd9c\ub825\ud569\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \ucd94\uc801 \ud30c\uc77c\uc5d0\ub294 memcpy/memset \uc791\uc5c5\uc5d0 \uc758\ud574 \uc0ac\uc6a9\ub41c \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed\uc744 \ub098\ud0c0\ub0b4\ub294 \ud2b8\ub799\uacfc \uac01 \uc2a4\ud2b8\ub9bc\uc758 \ud050 \uae38\uc774\ub97c \ub098\ud0c0\ub0b4\ub294 \ud2b8\ub799\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c, \uc774\ub7ec\ud55c \uce74\uc6b4\ud130\ub294 \ub7ad\ud06c 0 \ucd94\uc801 \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc0dd\uc131\ub418\uba70, \uc0c8 \ud30c\uc77c\uc758 \uc774\ub984\uc5d0\ub294 ``_with_counters``\ub77c\ub294 \uc811\ubbf8\uc0ac\uac00 \ud3ec\ud568\ub429\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\ub294 generate_trace_with_counters API\uc758 ranks \uc778\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ub7ad\ud06c\uc5d0 \ub300\ud55c \uce74\uc6b4\ud130\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. analyzer = TraceAnalysis(trace_dir=\"/path/to/trace/folder\") analyzer.generate_trace_with_counters() \uc99d\uac15\ub41c \uce74\uc6b4\ud130\uac00 \ud3ec\ud568\ub41c \uc0dd\uc131\ub41c \ucd94\uc801 \ud30c\uc77c\uc758 \uc2a4\ud06c\ub9b0\uc0f7. HTA\ub294 \ub610\ud55c \ub2e4\uc74c API\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud504\ub85c\ud30c\uc77c\ub41c \ucf54\ub4dc \ubd80\ubd84\uc5d0 \ub300\ud55c \uba54\ubaa8\ub9ac \ubcf5\uc0ac \ub300\uc5ed\ud3ed \ubc0f \ud050 \uae38\uc774 \uce74\uc6b4\ud130\uc758 \uc694\uc57d\uacfc \uc2dc\uacc4\uc5f4\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4: get_memory_bw_summary get_queue_length_summary get_memory_bw_time_series get_queue_length_time_series \uc694\uc57d \ubc0f \uc2dc\uacc4\uc5f4\uc744 \ubcf4\uae30 \uc704\ud574 \ub2e4\uc74c\uc744 \uc0ac\uc6a9\ud558\uc138\uc694: # \uc694\uc57d \uc0dd\uc131 mem_bw_summary = analyzer.get_memory_bw_summary() queue_len_summary = analyzer.get_queue_length_summary() # \uc2dc\uacc4\uc5f4 \uac00\uc838\uc624\uae30 mem_bw_series = analyzer.get_memory_bw_time_series() queue_len_series = analyzer.get_queue_length_series() \uc694\uc57d\uc5d0\ub294 \uce74\uc6b4\ud2b8, \ucd5c\uc18c, \ucd5c\ub300, \ud3c9\uade0, \ud45c\uc900 \ud3b8\ucc28, 25\ubc88\uc9f8, 50\ubc88\uc9f8, 75\ubc88\uc9f8 \ubc31\ubd84\uc704\uc218\uac00 \ud3ec\ud568\ub429\ub2c8\ub2e4. \uc2dc\uacc4\uc5f4\uc740 \uac12\uc774 \ubcc0\uacbd\ub420 \ub54c\ub9cc \ud3ec\uc778\ud2b8\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. \uc77c\ub2e8 \uac12\uc774 \uad00\ucc30\ub418\uba74 \ub2e4\uc74c \uc5c5\ub370\uc774\ud2b8\uae4c\uc9c0 \uc2dc\uacc4\uc5f4\uc740 \uc77c\uc815\ud558\uac8c \uc720\uc9c0\ub429\ub2c8\ub2e4. \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed \ubc0f \ud050 \uae38\uc774 \uc2dc\uacc4\uc5f4 \ud568\uc218\ub294 \ud0a4\uac00 \ub7ad\ud06c\uc774\uace0 \uac12\uc774 \uadf8 \ub7ad\ud06c\uc5d0 \ub300\ud55c \uc2dc\uacc4\uc5f4\uc778 \ub515\uc154\ub108\ub9ac\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c, \uc2dc\uacc4\uc5f4\uc740 \ub7ad\ud06c 0\uc5d0 \ub300\ud574\uc11c\ub9cc \uacc4\uc0b0\ub429\ub2c8\ub2e4. CUDA \ucee4\ub110 \uc2e4\ud589 \ud1b5\uacc4# GPU\uc5d0\uc11c \uc2e4\ud589\ub41c \uac01 \uc774\ubca4\ud2b8\uc5d0\ub294 CudaLaunchKernel, CudaMemcpyAsync, `CudaMemsetAsync`\uc640 \uac19\uc740 CPU\uc5d0\uc11c\uc758 \ub300\uc751\ud558\ub294 \uc2a4\ucf00\uc904\ub9c1 \uc774\ubca4\ud2b8\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc774\ubca4\ud2b8\ub294 \ucd94\uc801\uc5d0\uc11c \uacf5\ud1b5\uc758 \uc0c1\uad00 ID\ub85c \uc5f0\uacb0\ub429\ub2c8\ub2e4 - \uc704\uc758 \uadf8\ub9bc\uc744 \ucc38\uc870\ud558\uc138\uc694. \uc774 \uae30\ub2a5\uc740 CPU \ub7f0\ud0c0\uc784 \uc774\ubca4\ud2b8\uc758 \uc9c0\uc18d \uc2dc\uac04, \ud574\ub2f9 GPU \ucee4\ub110 \ubc0f \uc2e4\ud589 \uc9c0\uc5f0\uc744 \uacc4\uc0b0\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, GPU \ucee4\ub110 \uc2dc\uc791\uacfc CPU \uc624\ud37c\ub808\uc774\ud130 \uc885\ub8cc \uac04\uc758 \ucc28\uc774\uc785\ub2c8\ub2e4. \ucee4\ub110 \uc2e4\ud589 \uc815\ubcf4\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4: analyzer = TraceAnalysis(trace_dir=\"/path/to/trace/dir\") kernel_info_df = analyzer.get_cuda_kernel_launch_stats() \uc0dd\uc131\ub41c \ub370\uc774\ud130\ud504\ub808\uc784\uc758 \uc2a4\ud06c\ub9b0\uc0f7\uc740 \uc544\ub798\uc5d0 \uc788\uc2b5\ub2c8\ub2e4. CPU \uc624\ud37c\ub808\uc774\uc158\uc758 \uc9c0\uc18d \uc2dc\uac04, GPU \ucee4\ub110, \uadf8\ub9ac\uace0 \uc2e4\ud589 \uc9c0\uc5f0\uc744 \ud1b5\ud574 \ub2e4\uc74c\uc744 \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4: \uc9e7\uc740 GPU \ucee4\ub110 - GPU \ucee4\ub110\uc758 \uc9c0\uc18d \uc2dc\uac04\uc774 \ud574\ub2f9 CPU \ub7f0\ud0c0\uc784 \uc774\ubca4\ud2b8\ubcf4\ub2e4 \uc9e7\uc740 \uacbd\uc6b0. \ub7f0\ud0c0\uc784 \uc774\ubca4\ud2b8 \uc774\uc0c1\uce58 - \uacfc\ub3c4\ud55c \uc9c0\uc18d \uc2dc\uac04\uc744 \uac00\uc9c4 CPU \ub7f0\ud0c0\uc784 \uc774\ubca4\ud2b8. \uc2e4\ud589 \uc9c0\uc5f0 \uc774\uc0c1\uce58 - \uc2a4\ucf00\uc904\ub418\uae30\uae4c\uc9c0 \ub108\ubb34 \uc624\ub798 \uac78\ub9ac\ub294 GPU \ucee4\ub110. HTA\ub294 \uc704\uc5d0\uc11c \uc5b8\uae09\ud55c \uc138 \uac00\uc9c0 \uce74\ud14c\uace0\ub9ac \uac01\uac01\uc5d0 \ub300\ud55c \ubd84\ud3ec \ud50c\ub86f\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc9e7\uc740 GPU \ucee4\ub110 \uc77c\ubc18\uc801\uc73c\ub85c CPU \uce21\uc5d0\uc11c\uc758 \uc2e4\ud589 \uc2dc\uac04\uc740 5-20 \ub9c8\uc774\ud06c\ub85c\ucd08 \ubc94\uc704\uc785\ub2c8\ub2e4. \uc5b4\ub5a4 \uacbd\uc6b0\uc5d0\ub294 GPU \uc2e4\ud589 \uc2dc\uac04\uc774 \uc2e4\ud589 \uc2dc\uac04\ubcf4\ub2e4 \ub354 \uc9e7\uc2b5\ub2c8\ub2e4. \uc544\ub798 \uadf8\ub798\ud504\ub294 \uc774\ub7ec\ud55c \uc0ac\ub840\uac00 \ucf54\ub4dc\uc5d0\uc11c \uc5bc\ub9c8\ub098 \uc790\uc8fc \ubc1c\uc0dd\ud558\ub294\uc9c0 \ucc3e\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4. \ub7f0\ud0c0\uc784 \uc774\ubca4\ud2b8 \uc774\uc0c1\uce58 \ub7f0\ud0c0\uc784 \uc774\uc0c1\uce58\ub294 \uc774\uc0c1\uce58\ub97c \ubd84\ub958\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c \ucef7\uc624\ud504\uc5d0 \ub530\ub77c \ub2e4\ub985\ub2c8\ub2e4, \ub530\ub77c\uc11c get_cuda_kernel_launch_stats API\ub294 \uac12\uc744 \uad6c\uc131\ud558\uae30 \uc704\ud55c runtime_cutoff \uc778\uc218\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc2e4\ud589 \uc9c0\uc5f0 \uc774\uc0c1\uce58 \uc2e4\ud589 \uc9c0\uc5f0 \uc774\uc0c1\uce58\ub294 \uc774\uc0c1\uce58\ub97c \ubd84\ub958\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c \ucef7\uc624\ud504\uc5d0 \ub530\ub77c \ub2e4\ub985\ub2c8\ub2e4, \ub530\ub77c\uc11c get_cuda_kernel_launch_stats API\ub294 \uac12\uc744 \uad6c\uc131\ud558\uae30 \uc704\ud55c launch_delay_cutoff \uc778\uc218\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uacb0\ub860# \uc774 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c HTA\ub97c \uc124\uce58\ud558\uace0 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \ubc30\uc6e0\uc2b5\ub2c8\ub2e4. HTA\ub294 \ubd84\uc0b0 \ud559\uc2b5 \uc6cc\ud06c\ud50c\ub85c\uc6b0\uc5d0\uc11c \ubcd1\ubaa9 \ud604\uc0c1\uc744 \ubd84\uc11d\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \uc131\ub2a5 \ub3c4\uad6c\uc785\ub2c8\ub2e4. HTA \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud2b8\ub808\uc774\uc2a4 \ube44\uad50 \ubd84\uc11d\uc744 \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \ub354 \ubc30\uc6b0\ub824\uba74, Trace Diff using Holistic Trace Analysis \ub97c \ucc38\uc870\ud558\uc138\uc694.",
       "author": {
         "@type": "Organization",
         "name": "PyTorch Contributors",
         "url": "https://pytorch.org"
       },
       "image": "../_static/img/pytorch_seo.png",
       "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "/beginner/hta_intro_tutorial.html"
       },
       "datePublished": "2023-01-01T00:00:00Z",
       "dateModified": "2023-01-01T00:00:00Z"
     }
 </script>
  <script>
    // Tutorials Call to action event tracking
    $("[data-behavior='call-to-action-event']").on('click', function () {
      fbq('trackCustom', "Download", {
        tutorialTitle: $('h1:first').text(),
        downloadLink: this.href,
        tutorialLink: window.location.href,
        downloadTitle: $(this).attr("data-response")
      });
      if (typeof gtag === 'function') {
        gtag('event', 'click', {
          'event_category': $(this).attr("data-response"),
          'event_label': $("h1").first().text(),
          'tutorial_link': window.location.href
        });
      }
    });
  </script>
  
  </body>
</html>